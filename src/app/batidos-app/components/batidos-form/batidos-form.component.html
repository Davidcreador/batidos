<form (ngSubmit)="onSubmit($event)" [formGroup]="parent">
  <h2>Introduzca sus datos</h2>
  <div class="section" formGroupName="details">
    <div class="input">
      <label>
        Nombre
        <span class="required">*</span>
        <span *ngIf="parent.get('details').get('name').hasError('required') && parent.get('details').get('name').touched"
          class="error">
          Este campo es requerido
        </span>
      </label>
      <input formControlName="name" type="text" placeholder="Ingresa tu nombre">
    </div>
    <div class="input">
      <label>
        Correo Electrónico
        <span class="required">*</span>
        <span *ngIf="parent.get('details').get('email').errors && parent.get('details').get('email').touched" class="error">
          Este campo es requerido
        </span>
      </label>
      <input formControlName="email" type="email" placeholder="Ingresa tu correo electrónico">
    </div>
    <div class="input">
      <label>
        Confirmar correo electrónico
        <span class="required">*</span>
        <span *ngIf="parent.get('details').get('confirm').errors && parent.get('details').get('confirm').touched" class="error">
          <span *ngIf="parent.get('details').get('confirm').hasError('required')">
            Este campo es requerido
          </span>
        </span>
      </label>
      <input formControlName="confirm" type="email" placeholder="Confirmar correo electrónico">
    </div>
  </div>
  <div class="section" formGroupName="details">
    <div class="input">
      <label>
        Dirección
        <span class="required">*</span>
        <span *ngIf="parent.get('details').get('address').errors && parent.get('details').get('address').touched" class="error">
          <span *ngIf="parent.get('details').get('address').hasError('required')">
            Este campo es requerido
          </span>
          <span *ngIf="parent.get('details').get('address').hasError('minlength')">
            Minimo de 3 letras
          </span>
        </span>
      </label>
      <input formControlName="address" type="text" placeholder="Ingresa tu dirección">
    </div>
    <div class="input">
      <label>
        Número de teléfono
        <span class="required">*</span>
        <span *ngIf="parent.get('details').get('phone').errors && parent.get('details').get('phone').touched" class="error">
          Este campo es requerido
        </span>
      </label>
      <input formControlName="phone" type="text" placeholder="0123 4567">
    </div>
  </div>

  <app-batido-creator [batidos]="parent.get('batidos')" (add)="onAddBatido($event)" (remove)="onRemoveBatido($event)"
    (toggle)="onToggle($event)"></app-batido-creator>

  <app-batidos-summary [parent]="parent" [prices]="prices" [total]="total">
  </app-batidos-summary>
</form>
